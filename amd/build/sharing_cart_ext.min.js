define ("theme_imtpn/sharing_cart_ext",["exports","jquery","core/config","core/loadingicon"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=e(b);c=e(c);function e(a){return a&&a.__esModule?a:{default:a}}a.init=function init(){document.addEventListener("resource_library_card_rendered",function(){var a=function(a){if(b.default){var e=(0,d.addIconToContainerWithPromise)(a.currentTarget),f=document.querySelector(".local-resourcelibrary.block-cards").dataset.parentId;b.default.post(c.default.wwwroot+"/blocks/sharing_cart/rest.php",{action:"backup",cmid:a.target.parentElement.dataset.moduleId,userdata:!1,sesskey:c.default.sesskey,courseid:f}).then(function(){b.default.post(c.default.wwwroot+"/blocks/sharing_cart/rest.php",{action:"render_tree",courseid:f},function(a){(0,b.default)(".block_sharing_cart .tree").replaceWith((0,b.default)(a));b.default.init_item_tree()},"html");e.resolve()})}};document.querySelectorAll(".resource-library-activities .sharing-cart-icon").forEach(function(b){b.onclick=a})})}});
//# sourceMappingURL=sharing_cart_ext.min.js.map
